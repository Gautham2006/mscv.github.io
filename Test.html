<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtered RSS Feeds</title>
</head>
<body>
    <div id="news-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
    const rssUrl = 'https://news.google.com/rss/search?q=mexican+business+regulations&hl=en-US&gl=US&ceid=US:en';
    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(rssUrl)}`;

    const container = document.getElementById('news-container');

    try {
        const response = await fetch(proxyUrl);
        const data = await response.json();
        const feed = JSON.parse(data.contents);  // Assuming the RSS to JSON conversion is done somewhere else or adjusted to match the format provided by AllOrigins
        const articles = feed.items;
        container.innerHTML = '';

        articles.forEach(article => {
            if (article.title.toLowerCase().includes('business') && article.description.toLowerCase().includes('mexico')) {
                const element = document.createElement('div');
                element.innerHTML = `
                    <h4>${article.title}</h4>
                    <p>${article.description}</p>
                    <a href="${article.link}" target="_blank">Read more</a>
                    <hr/>
                `;
                container.appendChild(element);
            }
        });
    } catch (error) {
        console.error('Error fetching news:', error);
        container.innerHTML = `<p>Error loading news: ${error.message}</p>`;
    }
});


    </script>
</body>
</html>
