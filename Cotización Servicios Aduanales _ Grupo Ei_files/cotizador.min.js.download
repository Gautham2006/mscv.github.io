var $operacion,$regimen,$steps;$.extend($.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida.",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Las contraseñas no coinciden.",extension:"Por favor, escribe un valor con una extensión aceptada.",maxlength:$.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:$.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:$.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:$.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:$.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:$.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF válido.",nieES:"Por favor, escribe un NIE válido.",cifES:"Por favor, escribe un CIF válido."});var $padron,$numero_operacion=0;const $aereas=["Hermosillo","Guadalajara","Ciudad de México","Querétaro","Toluca","Monterrey","Mérida"],$terrestres=["Nuevo Laredo","Tijuana","Ciudad Juárez","Reynosa","Matamoros","Colombia, Nuevo León","Nogales","Salinas Victoria","Piedras Negras","Ciudad Hidalgo"],$maritimas=["Altamira","Lázaro Cárdenas","Manzanillo","Veracruz","Guaymas","Puerto Chiapas","Tampico"],$aduanas=["Altamira","Ciudad de México","Ciudad Hidalgo","Ciudad Juárez","Colombia, Nuevo León","Guadalajara","Guaymas","Hermosillo","Lázaro Cárdenas","Manzanillo","Matamoros","Mérida","Monterrey","Nogales","Nuevo Laredo","Piedras Negras","Puerto Chiapas","Querétaro","Reynosa","Salinas Victoria","Tampico","Tijuana","Toluca","Veracruz"];var $form=$("#formulario-1").validate({errorClass:"help-block animation-pullUp",errorElement:"div",errorPlacement:function(error,e){e.closest(".form-group").append(error)},highlight:function(e){$(e).closest(".form-group").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".help-block").remove()},invalidHandler:function(form,validator){validator.numberOfInvalids()&&validator.errorList[0].element.focus()},ignore:[],success:function(e){e.closest(".form-group").removeClass("has-success has-error"),e.closest(".help-block").remove()},submitHandler:function(form,e){return $operacion=$("input[name='operacion']:checked").val(),$regimen=$("input[name='regimen_fiscal']:checked").val(),$("#regimen_fiscal").val($regimen),$("#tipo_operacion").val($operacion),"Persona moral"==$regimen?($current=1,$steps=3,templateSource=$("#importacion-moral").html(),template=Handlebars.compile(templateSource),$(".contenedor-formulario").fadeOut("easy",(function(){if("Importación"==$operacion||"Ambas"==$operacion)var html=template({steps:$steps,importacion:!0});else html=template({steps:$steps,exportacion:!0});$(".contenedor-pasos").empty().html(html).removeClass("d-none").fadeIn("easy",(function(){$("#c-paso-1").addClass("active"),$(".avance").addClass("progreso-1-"+$steps),$(".progreso").css("width",100/$steps+"%"),templateSource=$("#datos-contacto").html(),template=Handlebars.compile(templateSource),$("#c-datos-contacto").empty().html(template({direccion:!0,nombre_empresa:!0})),$("input[name='padron_de_importadores']").change((function(){$padron="Sí"==$(this).val()})),$numero_operacion=0,templateSource=$("#importacion-moral-padron").html(),template=Handlebars.compile(templateSource);var importacion="Importación"==$operacion||"Ambas"==$operacion;$("#contenedor-complemento-paso-1").empty().html(template({importacion:importacion})).removeClass("d-none").fadeIn(),$("#operaciones").empty(),addOperation($operacion),$("#btn-operacion").click((function(){addOperation($operacion)})),$(".tooltip").popover({content:'<p>Se refiere al número de líneas en factura </p><p>o número de parte.</p><img width="400" src="https://f.hubspotusercontent20.net/hubfs/2039173/site/cotizacion/imagen-referencia-numero-de-items.png">',autoPlace:!0,trigger:"hover",delay:100}),$(".tooltipvolumen").popover({content:"<p>Ej. Esporádico, anual, 1 a 3 embarques,</p><p>4 a 6 embarques, 7 a 10 embarques,</p><p>más de 10 embarques</p>",autoPlace:!0,trigger:"hover",delay:100}),$("#regresar").click((function(){$(".contenedor-pasos").addClass("d-none").fadeOut("easy",(function(){$("#c-paso-2").removeClass("active"),$current=1,$("#c-paso-"+$current).addClass("active"),$(".contenedor-formulario").removeClass("d-none").fadeIn()}))})),$("#continuar").click((function(){var isValid=!0,$focus=!1;if($("#paso-"+$current).find(".hs-form-field").each((function(index,elem){var isElemValid=$("#formulario-pasos").validate().element(elem);null!=isElemValid&&(isValid&=isElemValid,isElemValid||$focus||($focus=!0,elem.focus()))})),isValid){if($padron||"Exportación"==$operacion||"Ambas"==$operacion)for($i=1;$i<=$numero_operacion;$i++){var $aduanas=[],$tipo=$("select[name='tipo_de_operacion_"+$i+"']").val(),$mercancia=$("input[name='mercancia_operacion_"+$i+"']").val(),$tipo_aduana=$("input[name='tipo_de_aduana_operacion_"+$i+"']:checked").val();switch($("input[name='aduanas___operacion_"+$i+"[]']:checked").each((function(index,element){$aduanas.push($(element).val())})),$tipo_aduana){case"Aérea":templateSourceTransporte=$("#aerea").html();break;case"Terrestre":templateSourceTransporte=$("#terrestre").html();break;case"Marítima":templateSourceTransporte=$("#maritima").html()}$("#detalle-transportes-operacion-"+$i).remove(),templateTransporte=Handlebars.compile(templateSourceTransporte),$exportacion="Exportación"==$tipo||"Ambas"==$tipo,$importacion="Importación"==$tipo,$("#detalle-transportes").append(templateTransporte({operacion:$i,exportacion:$exportacion,importacion:$importacion,tipo:$tipo,mercancia:$mercancia,tipo_aduana:$tipo_aduana,aduanas:$aduanas.join(", ")}))}$(".round-more").click((function(e){e.preventDefault(),e.stopImmediatePropagation();var $operacion=$(this).data("operation");$("#c-detalle-"+$operacion).removeClass("d-none")})),$("#paso-"+$current).fadeOut("easy",(function(){$(this).addClass("d-none"),$("#c-paso-1").removeClass("active"),$padron||"Importación"!=$operacion?$current++:($current=3,$("#regresar-3").click((function(){$("#paso-3").addClass("d-none").fadeOut("easy",(function(){$("#paso-1").removeClass("d-none").fadeIn(),$("#c-paso-3").removeClass("active"),$current=1,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").removeClass("progreso-"+($current+1)+"-"+$steps).addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%")}))}))),$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$("#paso-"+$current).removeClass("d-none").fadeIn(),$("input[name='tipo_de_carga_operacion_1'],input[name='tipo_de_carga_operacion_2'],input[name='tipo_de_carga_operacion_3'],input[name='tipo_de_carga_operacion_4']").change((function(){var $operacion=$(this).data("operation"),$contenedor=$(".otra-"+$operacion);"Otro"==$(this).val()?$contenedor.removeClass("d-none").fadeIn("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!0)}))})):$contenedor.addClass("d-none").fadeOut("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!1)}))}))})),$("input[name='servicio_entrega_operacion_1'],input[name='servicio_entrega_operacion_2'],input[name='servicio_entrega_operacion_3'],input[name='servicio_entrega_operacion_4']").change((function(){var $operacion=$(this).data("operation"),$contenedor=$("#direccion_"+$operacion);"Sí"==$(this).val()?$contenedor.removeClass("d-none").fadeIn("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!0)}))})):$contenedor.addClass("d-none").fadeOut("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!1)}))}))})),$("input[name='servicio_recoleccion_operacion_1'],input[name='servicio_recoleccion_operacion_2'],input[name='servicio_recoleccion_operacion_3'],input[name='servicio_recoleccion_operacion_4']").change((function(){var $operacion=$(this).data("operation"),$contenedor=$("#direccion_recoleccion_"+$operacion);"Sí"==$(this).val()?$contenedor.removeClass("d-none").fadeIn("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!0)}))})):$contenedor.addClass("d-none").fadeOut("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!1)}))}))})),$("input[name='mercancia_en_bodega_operacion_1'],input[name='mercancia_en_bodega_operacion_2'],input[name='mercancia_en_bodega_operacion_3'],input[name='mercancia_en_bodega_operacion_4']").change((function(){var $operacion=$(this).data("operation"),$contenedor=$("#bodega_"+$operacion);"Sí"==$(this).val()?$contenedor.removeClass("d-none").fadeIn("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!0)}))})):$contenedor.addClass("d-none").fadeOut("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!1)}))}))})),$("input[name='aa_americano_operacion_1'],input[name='aa_americano_operacion_2'],input[name='aa_americano_operacion_3'],input[name='aa_americano_operacion_4']").change((function(){var $operacion=$(this).data("operation"),$contenedor=$("#aa_americano_operacion_"+$operacion);"Sí"==$(this).val()?$contenedor.removeClass("d-none").fadeIn("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!0)}))})):$contenedor.addClass("d-none").fadeOut("easy",(function(){$(this).find(".hs-form-field").each((function(index,element){$(element).attr("required",!1)}))}))})),$("#regresar-2").click((function(){$("#paso-2").addClass("d-none").fadeOut("easy",(function(){$("#paso-1").removeClass("d-none").fadeIn(),$("#c-paso-2").removeClass("active"),$current=1,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").removeClass("progreso-"+($current+1)+"-"+$steps).addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%")}))})),$("#continuar-2").click((function(){var isValid=!0,$focus=!1;$(".round-more").trigger("click"),$("#paso-"+$current).find(".hs-form-field").each((function(index,elem){var isElemValid=$("#formulario-pasos").validate().element(elem);null!=isElemValid&&(isValid&=isElemValid,isElemValid||$focus||($focus=!0,elem.focus()))})),isValid&&$("#paso-"+$current).addClass("d-none").fadeOut("easy",(function(){$("#c-paso-"+$current).removeClass("active"),$current++,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$("#paso-"+$current).removeClass("d-none").fadeIn("easy",(function(){$("#regresar-3").click((function(){$("#paso-3").addClass("d-none").fadeOut("easy",(function(){$("#c-paso-3").removeClass("active"),$current=2,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").removeClass("progreso-"+($current+1)+"-"+$steps).addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$("#paso-2").removeClass("d-none").fadeIn()}))}))}))}))}))}))}}))}))}))):($current=1,$steps=2,templateSource=$("#importacion-exportacion-fisica").html(),template=Handlebars.compile(templateSource),$(".contenedor-formulario").fadeOut("easy",(function(){if("Importación"==$operacion||"Ambas"==$operacion)var html=template({steps:$steps,aduanas:$aduanas,padron:!0});else html=template({steps:$steps,aduanas:$aduanas});$(".contenedor-pasos").empty().html(html).removeClass("d-none").fadeIn("easy",(function(){$("#c-paso-1").addClass("active"),$(".avance").addClass("progreso-1-"+$steps),$(".progreso").css("width",100/$steps+"%"),templateSource=$("#datos-contacto").html(),template=Handlebars.compile(templateSource),$("#c-datos-contacto").empty().html(template),$("#regresar").click((function(){$(".contenedor-pasos").addClass("d-none").fadeOut("easy",(function(){$("#c-paso-2").removeClass("active"),$current=1,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$(".contenedor-formulario").removeClass("d-none").fadeIn()}))})),$("#continuar").click((function(){var isValid=!0,$focus=!1;$("#paso-"+$current).find(".hs-form-field").each((function(index,elem){var isElemValid=$("#formulario-pasos").validate().element(elem);null!=isElemValid&&(isValid&=isElemValid,isElemValid||$focus||($focus=!0,elem.focus()))})),isValid&&$("#paso-"+$current).addClass("d-none").fadeOut("easy",(function(){$("#c-paso-"+$current).removeClass("active"),$current++,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$("#paso-"+$current).removeClass("d-none").fadeIn("easy",(function(){$(this).removeClass("d-none"),$("#regresar-3").click((function(){$("#paso-2").addClass("d-none").fadeOut("easy",(function(){$("#c-paso-2").removeClass("active"),$current=1,$("#c-paso-"+$current).addClass("active"),$a=100/$steps*$current,$(".avance").removeClass("progreso-"+($current+1)+"-"+$steps).addClass("progreso-"+$current+"-"+$steps),$(".progreso").css("width",$a+"%"),$("#paso-1").removeClass("d-none").fadeIn()}))}))}))}))}))}))}))),!1},rules:{operacion:{required:!0},regimen_fiscal:{required:!0}}});hbspt.forms.create({region:"na1",portalId:"2039173",formId:"8cc2faf9-3bbb-45f8-a688-6d2758e15710",target:".form-hs",css:""});var $formSteps=$("#formulario-pasos").validate({errorClass:"help-block animation-pullUp",errorElement:"div",errorPlacement:function(error,e){e.closest(".form-group").append(error),e.closest(".form-group .col-6").append(error),e.closest(".form-group .col-8").append(error),e.closest(".col-3").append(error),e.closest(".c-radio").append(error)},highlight:function(e){$(e).closest(".form-group").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".form-group .col-6").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".form-group .col-8").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".col-3").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".c-radio").removeClass("has-success has-error").addClass("has-error"),$(e).closest(".help-block").remove()},invalidHandler:function(form,validator){validator.numberOfInvalids()&&validator.errorList[0].element.focus()},ignore:[],success:function(e){e.closest(".form-group").removeClass("has-success has-error"),e.closest(".help-block").remove()},submitHandler:function(form,e){$("#preloader").fadeIn();var email=$("#formulario-pasos input[name=email]").val();return $("#email-8cc2faf9-3bbb-45f8-a688-6d2758e15710").val(email).change(),$("#hsForm_8cc2faf9-3bbb-45f8-a688-6d2758e15710").submit(),$.ajax({type:"POST",url:"https://dev.cliento.mx/grupoei/save.php",data:$("#formulario-pasos").serialize(),dataType:"json",success:function(json){$("#preloader").fadeOut();json.result;window.location="https://mkt.grupoei.com.mx/gracias-por-contestar-cuestionario-cotizacion"}}),!1},rules:{email:{required:!0,email:!0},cp_recoleccion_operacion_1:{minlength:5,maxlength:5,number:!0},cp_recoleccion_operacion_2:{minlength:5,maxlength:5,number:!0},cp_recoleccion_operacion_3:{minlength:5,maxlength:5,number:!0},cp_recoleccion_operacion_3:{minlength:5,maxlength:5,number:!0}}});function addOperation(tipo_operacion){if(++$numero_operacion<=4){4==$numero_operacion&&$(".contenedor-btn-agrega").fadeOut(),templateSource=$("#operacion").html(),template=Handlebars.compile(templateSource);var oE=!1,oI=!1,oA=!1;"Ambas"==tipo_operacion&&(oA=!0),"Ambas"!=tipo_operacion&&"Exportación"!=tipo_operacion||(oE=!0),"Ambas"!=tipo_operacion&&"Importación"!=tipo_operacion||(oI=!0),$("#operaciones").append(template({operacion:$numero_operacion,oE:oE,oI:oI,oA:oA})),$("input[name='tipo_de_aduana_operacion_"+$numero_operacion+"']").change((function(){var operacion_aduana=$(this).data("operation"),aduana=$(this).val(),$label="";switch($("#maritima_"+operacion_aduana).removeClass("required").fadeOut().val(""),$("#aerea_"+operacion_aduana).removeClass("required").fadeOut().val(""),$("#terrestre_"+operacion_aduana).removeClass("required").fadeOut().val(""),aduana){case"Aérea":$aduanas_operacion=$aereas,$label="aerea";break;case"Terrestre":$aduanas_operacion=$terrestres,$label="terrestre";break;case"Marítima":$label="maritima",$aduanas_operacion=$maritimas}templateSource=$("#aduanas").html(),template=Handlebars.compile(templateSource),$("#aduanas-"+operacion_aduana).empty().html(template({label:$label,aduana:aduana,aduanas:{aduanas:$aduanas_operacion,operacion:operacion_aduana}})),$(".otra_aduana").click((function(e){var $label=$(this).data("aduana"),$operacion=$(this).data("operacion"),$input=$("#"+$label+"_"+$operacion);$(this).is(":checked")?$input.addClass("required").removeClass("d-none").fadeIn():$input.removeClass("required").addClass("d-none").fadeOut().val("")}))}))}}$("#preloader").fadeOut();
//# sourceURL=https://cdn2.hubspot.net/hub/2039173/hub_generated/template_assets/54654252867/1709851528010/cotizador/js/cotizador.js