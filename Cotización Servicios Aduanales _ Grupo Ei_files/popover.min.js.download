!function($){"use strict";var defaults={trigger:"hover",autoPlace:!0,delay:10,placement:"top",title:"",content:""},Popover=function(element,options){this.ele=$(element),this.wrapper=null,this.product=null,this.pid="popover_"+(new Date).getTime(),this.timer_in=null,this.timer_out=null,this.mouse=!1,this.posMap=["topLeft","top","topRight","rightTop","right","rightBottom","bottomLeft","bottom","bottomRight","leftTop","left","leftBottom"],this.posId=1,this.opts=$.extend({},defaults,options);for(var i=this.posMap.length-1;i>=0;i--)if(this.opts.placement===this.posMap[i]){this.posId=i;break}this.init()};Popover.prototype.init=function(){this.bind()},Popover.prototype.render=function(){var _html,_pid=this.pid,_container=$(document.body);_html='<div><div class="popover" id="'+_pid+'"><div class="popover-container"><div class="popover-inner"><div class="popover-content">'+("function"==typeof this.opts.content?this.opts.content.call(this):"object"==typeof this.opts.content?$(this.opts.content).html():this.opts.content)+'</div></div><div class="popover-arrow"></div></div></div></div>',_container.append(_html),this.product=$("#"+_pid),this.wrapper=this.product.parent("div"),this.place()},Popover.prototype.place=function(){var _result,_this=this,_plan=[],_trigger=this.ele,_targets=this.wrapper,_product=this.product,_container=$(window),_t_x=_trigger.offset().left,_t_y=_trigger.offset().top,_t_w=_trigger.outerWidth(),_t_h=_trigger.outerHeight(),_v_x=_container.scrollLeft(),_v_y=_container.scrollTop(),_v_w=_container.outerWidth(!0),_v_h=_container.outerHeight(!0),_p_w=_product.outerWidth(!0),_p_h=_product.outerHeight(!0),_W_={w1:_v_w-(_t_x-_v_x),w2:_v_w-(_t_x-_v_x)-_t_w,w3:_t_x-_v_x+_t_w,w4:_t_x-_v_x,w5:2*(Math.min(_t_x-_v_x,_v_w-_t_w-_t_x+_v_x)+_t_w/2)},_H_={h1:_t_y-_v_y,h2:_v_h-(_t_x-_v_x),h3:_v_h-(_t_y-_v_y)-_t_h,h4:_t_y-_v_y+_t_h,h5:2*(Math.min(_t_y-_v_y,_v_h-_t_h-_t_y+_v_y)+_t_h/2)},_T_={t1:_t_y-_p_h,t2:_t_y-8,t3:_t_y+_t_h,t4:_t_y+_t_h-_p_h+8,t5:_t_y+(_t_h-_p_h)/2},_L_={l1:_t_x-8,l2:_t_x+_t_w,l3:_t_x+_t_w-_p_w+8,l4:_t_x-_p_w,l5:_t_x+(_t_w-_p_w)/2},_area=[{name:"topLeft",width:_W_.w1,height:_H_.h1,top:_T_.t1,left:_L_.l1},{name:"top",width:_W_.w5,height:_H_.h1,top:_T_.t1,left:_L_.l5},{name:"topRight",width:_W_.w3,height:_H_.h1,top:_T_.t1,left:_L_.l3},{name:"rightTop",width:_W_.w2,height:_H_.h2,top:_T_.t2,left:_L_.l2},{name:"right",width:_W_.w2,height:_H_.h5,top:_T_.t5,left:_L_.l2},{name:"rightBottom",width:_W_.w2,height:_H_.h4,top:_T_.t4,left:_L_.l2},{name:"bottomLeft",width:_W_.w1,height:_H_.h3,top:_T_.t3,left:_L_.l1},{name:"bottom",width:_W_.w5,height:_H_.h3,top:_T_.t3,left:_L_.l5},{name:"bottomRight",width:_W_.w3,height:_H_.h3,top:_T_.t3,left:_L_.l3},{name:"leftTop",width:_W_.w4,height:_H_.h2,top:_T_.t2,left:_L_.l4},{name:"left",width:_W_.w4,height:_H_.h5,top:_T_.t5,left:_L_.l4},{name:"leftBottom",width:_W_.w4,height:_H_.h4,top:_T_.t4,left:_L_.l4}];if($.each(_area,(function(i,res){res.width>=_p_w&&res.height>=_p_h&&_plan.push(res)})),_this.opts.autoPlace)if(_plan.length){_result=_plan[0];for(var i=_plan.length-1;i>=0;i--)if(_plan[i].name===_this.opts.placement){_result=_plan[i];break}}else _result=_area[_this.posId];else _result=_area[_this.posId];_targets.css({position:"absolute",top:_result.top+"px",left:_result.left+"px"}),_product.addClass("popover-"+_result.name),_targets.mouseenter((function(){_this.show()})),"click"!==_this.opts.trigger&&"focus"!==_this.opts.trigger&&_targets.mouseleave((function(){_this.destroy()}))},Popover.prototype.bind=function(){var _this=this,_trigger=this.opts.trigger,_element=$(this.ele);switch(_trigger){case"click":_element.on("click",(function(e){e.stopPropagation(),_this.product=$("#"+_this.pid),_this.product.length?_this.destroy():(_this.mouse=!1,_this.show())})),$(document).on("click",(function(e){$(e.target).closest(".popover").length||$(".popover").parent("div").remove()}));break;case"focus":_element.on({focus:function(){_this.product=$("#"+_this.pid),_this.product.length||(_this.mouse=!1,_this.show())},blur:function(){_this.product=$("#"+_this.pid),_this.product.length&&_this.destroy()}});break;default:_element.hover((function(){_this.show()}),(function(){_this.destroy()}))}},Popover.prototype.show=function(){var _this=this;window.clearTimeout(_this.timer_out),_this.mouse||(_this.timer_in=window.setTimeout((function(){_this.mouse=!0,_this.render()}),_this.opts.delay))},Popover.prototype.destroy=function(){var _this=this;window.clearTimeout(_this.timer_in),_this.timer_out=window.setTimeout((function(){_this.mouse=!1,$(".popover").parent("div").remove(),_this.product=null}),_this.opts.delay)},$.fn.popover=function(options){return this.each((function(){return new Popover(this,options)}))}}(jQuery);
//# sourceURL=https://cdn2.hubspot.net/hub/2039173/hub_generated/template_assets/54654252888/1630949821900/cotizador/js/popover.js